---
title: "[정보처리기사] 08.SQL 응용"
date: "2020-11-17T03:41:32.169Z"
path: "/Study/certificate/8/"
category: "Study"
ci: ""
cat: "CERTIFICATE"
tags: ['CERTIFICATE', '정보처리기사']
description: "정보처리기사 08.SQL 응용"
---

<span style="color:gray">내가 보려고 정리하는 정보처리기사</span>



##### 08. SQL 응용

|                           |                                                              |
| ------------------------- | :----------------------------------------------------------- |
| <br />                    |                                                              |
| **1. DDL**                | 스키마, 도메인, 테이블, 뷰 인덱스 정의하거나 변경 또는 삭제할 때 사용 |
|                           | CREATE / ALTER / DROP                                        |
| **다른 테이블로 정의**    | <small>**CREATE TABLE** 재학생 AS **SELECT** 학번, 이름, 학년 FROM 학생;</small> |
| **인덱스 정의**           | <small>**CREATE** UNIQUE **INDEX** 인덱스명 **ON** 테이블명(속성명 DESC);</small> |
| **테이블 정의 변경**      | <small>**ALTER TABLE** 테이블명 **ALTER** 속성명 VARCHAR(10) [NOT NULL];</small> |
|                           | <small>**ALTER TABLE** 테이블명 **ADD** 속성명 VARCHAR(3);</small> |
| **테이블 삭제**           | <small>**DROP TABLE** 테이블명 [CASCADE];</small>            |
| <br />                    |                                                              |
| **2. DML**                | SELECT / INSERT / UPDATE / DELETE                            |
| **삽입(INSERT INTO)**     | <small>**INSERT INTO** 테이블명(속성1,속성2) **VALUES**('D1','D2');</small> |
| **삭제(DELETE FROM)**     | <small>**DELETE FROM** 테이블명 **WHERE** 조건;</small>      |
| **갱신(UPDATE - SET)**    | <small>**UPDATE** 테이블명 **SET** 속성명='변경데이터' **WHERE** 조건;</small> |
| **GROUP BY**              | <small>**SELECT** 부서, AVG(상여금) AS 평균 **FROM** 상여금 **GROUP BY** 부서;</small> |
|                           | <small>**SELECT** 부서, COUNT(*) **FROM** 상여금 **WHERE** 상여금>=100<br/> **GROUP BY** 부서 **HAVING** COUNT(*)>=2;</small> |
| **ROLLUP**                | <small>**SELECT** 부서,상여내역,SUM(상여금) **FROM** 상여금 **GROUP BY ROLLUP**(부서, 상여내역);</small> |
| **CUBE**                  | <small>**SELECT** 부서, 상여내역, SUM(상여금) **FROM** 상여금 **GROUP BT CUBE**(부서, 상여내역);</small> |
| **집계함수**              | 여러행 또는 전체 테이블로 부터 하나의 결과값 반환            |
|                           | COUNT / SUM / AVG / MAX / MIN / STDDEV / VARIANCE            |
| **그룹함수**              | 하나 이상의 컬럼을 기준으로 그룹화하여 그룹별로 결과를 도출  |
|                           | ROLLUP / CUBE                                                |
| **WINDOW 함수**           | 온라인 분석처리용도로 사용하기 위해 표준 SQL에 추가된 함수 == OLAP함수 |
| - 순위함수                | ROW_NUMBER()(일련번호) / RANK()(공동 순위) / DENSE_RANK()(공동순위 무시) |
| - 행순서함수              | FIRST_VALUE / LAST_VALUE / LAG / LEAD                        |
| - 그룹 내 비율 함수       | RATIO_TO_REPORT / PERCENT_RANK                               |
| *** 집합함수**            | UNION(합집합) / UNION ALL(합집합, 중복O) / INTERSECT(교집합) / EXCEPT(차집합) |
| <br />                    |                                                              |
| **3. DCL**                | 데이터 보안, 무결성, 회복, 병행 수행 제어 등 정의하는 데 사용 |
|                           | COMMIT / ROLLBACK / GRANT / REVOKE                           |
| **GRANT(권한 부여)**      | GRANT 사용자등급 TO 사용자_ID;                               |
| **REVOKE(권한 취소)**     | REVOKE 사용자 등급 FROM 사용자_ID;                           |
| **권한 부여**             | <small>**GRANT** 권한 **ON** 개체 **TO** 사용자 [WITH GRANT OPTION];</small> |
|                           | - WITH GRANT OPTION : 다른사용자에게 부여받은 권한 다시 부여 가능 |
| **권한 취소**             | <small>**REVOKE** [GRANT OPTION FOR] 권한 **ON** 개체 **FROM** 사용자 [CASCADE CONSTRAINTS];</small> |
|                           | - GRANK OPTION FOR : 다른 사용자에게 권한을 부여할 수 있는 권한 취소 |
|                           | - CASCADE CONSTRAINTS : 연쇄적인 권한 해제                   |
| **COMMIT**                | 트랜잭션이 성공적으로 끝나면 일관성 상태를 가지기위해 변경된 모든 내용을 DB에 반영 |
| **ROLLBACK**              | 아직 COMMIT되지 않은 변경된 모든 내용을 취소하고 DB를 이전상태로 되돌리는 작업 |
| **SAVEPOINT**             | ROLLBACK할 위치인 저장점을 지정하는 명령어                   |
| <br />                    |                                                              |
| **4. 프로시저**           | 절차형 SQL 활용해 특정 기능 수행할 수 있는 트랜잭션 언어     |
| **구성**                  |                                                              |
| - DECLARE(선언부)         | - MODE : IN(OS → 프로시저) / OUT(프로시저 → OS) / INOUT      |
| - BEGIN, END              |                                                              |
| - CONTROL(제어부)         | - IF문 : IF ~ THEN ~ ELSIF ~ THEN ~ ELSE ~ END IF            |
|                           | - CASE문 : CASE WHEN ~ THEN SET 명령어;  ... ELSE SET 명령어; END CASE; |
|                           | - LOOP문 : LOOP 문장 ; EXIT WHEN 탈출조건; END LOOP;         |
|                           | - WHILE문 : WHILE 반복조건 LOOP 문장; EXIT WHEN 탈출조건; END LOOP; |
|                           | - FOR LOOP 문 : FOR 인덱스 IN 시작값 ... 종료값 LOOP 문장; END LOOP; |
| - SQL                     |                                                              |
| - EXCEPTION(예외부)       | <small>**EXCEPTION WHEN** 조건 **THEN SET** 명령어;</small>  |
| - TRANSACTION(실행)       | COMMIT / ROLLBACK                                            |
| <br />                    |                                                              |
| **프로시저 호출문**       | EXECUTE 프로시저명 (파라미터1, 파라미터2 ...);               |
| - 사용자함수와 차이점     | 반환값 없거나 1개 / 입출력 가능 / 사용가능 명령문(DML,DCL) / 사용방법(실행문) |
| <BR />                    |                                                              |
| **5. 트리거**             | 특정 테이블에 데이터 변경 이벤트가 발생하면 DBMS에서 자동적으로 실행되게 구현된 프로그램 |
| - 목적                    | 데이터 변경 및 무결성 유지 / 로그메시지 출력 ...             |
| - 종류                    | 행 트리거(데이터 변화 생길 때 마다) / 문장 트리거(트리거에 의해 단 한 번 실행) |
| - 공통점                  | 반환값 없고, DML을 주된 목적으로 하는 건 프로시저와 동일     |
| - 차이점                  | EVENT명령어, 외부변수IN/OUT이 없다.                          |
| - 구성                    | 선언부 / 이벤트부 / 시작,종료부 / 제어부 / SQL / 예외부      |
| * 이벤트 순서             | BEFORE (DML수행 이전에 트리거 실행) / AFTER(DML 성공적 수행 이후에 트리거 실행) |
| - 작성 시 주의사항        | TCL 사용불가 (COMMIT / ROLLBACK과 같은 TCL사용시 컴파일 에러) |
|                           | 오류에 주의 (원인제공한 데이터작업에도 영향이 감)            |
| <BR />                    |                                                              |
| **6. 사용자 정의함수**    | 절차형 SQL 활용해 일련의 SQL처리하고 수행결과를 단일 값으로 반환할 수 있는 절차형 SQL |
| - 구성                    | 선언부 / 시작, 종료부 / 제어부 / SQL / 예외부 / 반환부       |
| - 프로시저와 차이점       | 반환값이 1개 / 입력만 가능 / 사용가능 명령문(SELECT) / 사용방법(DML에 포함) |
| <BR />                    |                                                              |
| **7. 특정 기능 수행 SQL** |                                                              |
| **JDBC**                  | SQL을 사용해 DBMS에 질의하고 데이터 조작하는 API 제공 / 자바에 사용 |
| **MyBatis**               | DBMS에 질의하기 위한 SQL쿼리를 별도의 XML파일로 분리하고 Mapping을 통해 sql 실행 |
| - 장점                    | 복잡한 JDBC코드단순화 / SQL 거의 그대로 사용 가능 / 우수한 성능 / Spring프레임워크와 통합 기능 |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |
|                           |                                                              |